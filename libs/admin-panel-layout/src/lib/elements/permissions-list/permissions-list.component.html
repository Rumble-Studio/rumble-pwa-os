<div class="permissions-list-container">
	<mat-form-field appearance="outline">
		<mat-label>Filter</mat-label>
		<input
			matInput
			(keyup)="applyFilter($event)"
			#input />
	</mat-form-field>

	<table
		#table
		mat-table
		*ngIf="dataSource.data.length; else noDataTpl"
		[dataSource]="dataSource"
		matSort>
		<ng-container matColumnDef="id">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				ID
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				{{ element.id }}
			</td>
		</ng-container>

		<ng-container matColumnDef="timeCreation">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Creation time
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				{{ element.timeCreation * 1000 | date: 'yy/MM/dd, HH:mm' }}
			</td>
		</ng-container>

		<ng-container matColumnDef="name">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Name
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				{{ element.name }}
			</td>
		</ng-container>

		<ng-container matColumnDef="description">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Description
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				{{ element.description }}
			</td>
		</ng-container>

		<ng-container matColumnDef="key">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Key
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				{{ element.key }}
			</td>
		</ng-container>

		<ng-container matColumnDef="enabled">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Enabled
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				<mat-icon>{{ element.enabled ? 'done' : 'remove' }}</mat-icon>
			</td>
		</ng-container>

		<ng-container matColumnDef="need_group">
			<th
				mat-header-cell
				*matHeaderCellDef
				mat-sort-header>
				Need Group
			</th>
			<td
				mat-cell
				*matCellDef="let element">
				<mat-icon>{{ element.needGroup ? 'done' : 'remove' }}</mat-icon>
			</td>
		</ng-container>

		<tr
			mat-header-row
			*matHeaderRowDef="displayedColumns"></tr>
		<tr
			mat-row
			*matRowDef="let row; columns: displayedColumns; let element"></tr>

		<tr
			class="mat-row"
			*matNoDataRow>
			<td
				class="mat-cell"
				colspan="4">
				No data matching the filter "{{ input.value }}"
			</td>
		</tr>
	</table>

	<mat-paginator
		[pageSizeOptions]="[5, 10, 25, 100]"
		aria-label="Select page of users"
		[pageSize]="10"></mat-paginator>
</div>
<ng-template #noDataTpl>
	<span class="no-data">No permission available</span>
</ng-template>
