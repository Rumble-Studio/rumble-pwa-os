<div class="operations-list-container">
	<div class="header">
		<mat-form-field appearance="outline">
			<mat-label>Filter</mat-label>
			<input
				matInput
				(keyup)="applyFilter($event)"
				#input />
		</mat-form-field>

		<div class="add">
			<button
				mat-raised-button
				(click)="onAddOperation()">
				<mat-icon>add</mat-icon> Add operation
			</button>
		</div>
	</div>
	<div *ngIf="dataSource.data.length; else noDataTpl">
		<table
			#table
			mat-table
			[dataSource]="dataSource"
			matSort>
			<ng-container matColumnDef="id">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					ID
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.id }}
				</td>
			</ng-container>

			<ng-container matColumnDef="timeCreation">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Creation time
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.timeCreation * 1000 | date: 'yy/MM/dd, HH:mm' }}
				</td>
			</ng-container>

			<ng-container matColumnDef="name">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Name
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.name }}
				</td>
			</ng-container>

			<ng-container matColumnDef="description">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Description
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.description }}
				</td>
			</ng-container>

			<ng-container matColumnDef="kind">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Kind
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.kind }}
				</td>
			</ng-container>

			<ng-container matColumnDef="details">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Details
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.details }}
				</td>
			</ng-container>

			<ng-container matColumnDef="key">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Key
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.key }}
				</td>
			</ng-container>

			<ng-container matColumnDef="groupId">
				<th
					mat-header-cell
					*matHeaderCellDef
					mat-sort-header>
					Group ID
				</th>
				<td
					mat-cell
					*matCellDef="let element">
					{{ element.groupId }}
				</td>
			</ng-container>

			<tr
				mat-header-row
				*matHeaderRowDef="displayedColumns"></tr>
			<tr
				mat-row
				*matRowDef="let row; columns: displayedColumns; let element"
				(click)="onUpdateOperation(element)"></tr>

			<tr
				class="mat-row"
				*matNoDataRow>
				<td
					class="mat-cell"
					colspan="4">
					No data matching the filter "{{ input.value }}"
				</td>
			</tr>
		</table>

		<mat-paginator
			[pageSizeOptions]="[5, 10, 25, 100]"
			aria-label="Select page of users"
			[pageSize]="10"></mat-paginator>
	</div>
</div>
<ng-template #noDataTpl>
	<span class="no-data">No operation available</span>
</ng-template>
